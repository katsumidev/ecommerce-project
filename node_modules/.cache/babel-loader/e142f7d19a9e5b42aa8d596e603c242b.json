{"ast":null,"code":"'use strict';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDnd = require('react-dnd');\n\nvar _reactDndHtml5Backend = require('react-dnd-html5-backend');\n\nvar _isEqual = require('lodash/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _uniq = require('lodash/uniq');\n\nvar _uniq2 = _interopRequireDefault(_uniq);\n\nvar _Suggestions = require('./Suggestions');\n\nvar _Suggestions2 = _interopRequireDefault(_Suggestions);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Tag = require('./Tag');\n\nvar _Tag2 = _interopRequireDefault(_Tag);\n\nvar _utils = require('./utils');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} //Constants\n\n\nvar ReactTags = function (_Component) {\n  _inherits(ReactTags, _Component);\n\n  function ReactTags(props) {\n    _classCallCheck(this, ReactTags);\n\n    var _this = _possibleConstructorReturn(this, (ReactTags.__proto__ || Object.getPrototypeOf(ReactTags)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    if (!props.inline) {\n      /* eslint-disable no-console */\n      console.warn('[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.');\n      /* eslint-enable no-console */\n    }\n\n    var suggestions = props.suggestions;\n    _this.state = {\n      suggestions: suggestions,\n      query: '',\n      isFocused: false,\n      selectedIndex: -1,\n      selectionMode: false,\n      ariaLiveStatus: ''\n    };\n    _this.reactTagsRef = (0, _react.createRef)();\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    _this.handleBlur = _this.handleBlur.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.moveTag = _this.moveTag.bind(_this);\n    _this.handlePaste = _this.handlePaste.bind(_this);\n    _this.handleSuggestionHover = _this.handleSuggestionHover.bind(_this);\n    _this.handleSuggestionClick = _this.handleSuggestionClick.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactTags, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          autofocus = _props.autofocus,\n          readOnly = _props.readOnly;\n\n      if (autofocus && !readOnly) {\n        this.resetAndFocusInput();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (!(0, _isEqual2.default)(prevProps.suggestions, this.props.suggestions)) {\n        this.updateSuggestions();\n      }\n    }\n  }, {\n    key: 'handleDelete',\n    value: function handleDelete(index, event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var currentTags = this.props.tags.slice(); // Early exit from the function if the array\n      // is already empty\n\n      if (currentTags.length === 0) {\n        return;\n      }\n\n      var ariaLiveStatus = 'Tag at index ' + index + ' with value ' + currentTags[index].id + ' deleted.';\n      this.props.handleDelete(index, event);\n      var allTags = this.reactTagsRef.current.querySelectorAll('.ReactTags__remove');\n      var nextElementToFocus = void 0,\n          nextIndex = void 0,\n          nextTag = void 0;\n\n      if (index === 0 && currentTags.length > 1) {\n        nextElementToFocus = allTags[0];\n        nextIndex = 0;\n        nextTag = currentTags[1];\n      } else {\n        nextElementToFocus = allTags[index - 1];\n        nextIndex = index - 1;\n        nextTag = currentTags[nextIndex];\n      }\n\n      if (!nextElementToFocus) {\n        nextIndex = -1;\n        nextElementToFocus = this.textInput;\n      }\n\n      if (nextIndex >= 0) {\n        ariaLiveStatus += ' Tag at index ' + nextIndex + ' with value ' + nextTag.id + ' focussed. Press backspace to remove';\n      } else {\n        ariaLiveStatus += 'Input focussed. Press enter to add a new tag';\n      }\n\n      nextElementToFocus.focus();\n      this.setState({\n        ariaLiveStatus: ariaLiveStatus\n      });\n    }\n  }, {\n    key: 'handleTagClick',\n    value: function handleTagClick(i, e) {\n      if (this.props.handleTagClick) {\n        this.props.handleTagClick(i, e);\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(e) {\n      if (this.props.handleInputChange) {\n        this.props.handleInputChange(e.target.value);\n      }\n\n      var query = e.target.value.trim();\n      this.setState({\n        query: query\n      }, this.updateSuggestions);\n    }\n  }, {\n    key: 'handleFocus',\n    value: function handleFocus(event) {\n      var value = event.target.value;\n\n      if (this.props.handleInputFocus) {\n        this.props.handleInputFocus(value);\n      }\n\n      this.setState({\n        isFocused: true\n      });\n    }\n  }, {\n    key: 'handleBlur',\n    value: function handleBlur(event) {\n      var value = event.target.value;\n\n      if (this.props.handleInputBlur) {\n        this.props.handleInputBlur(value);\n\n        if (this.textInput) {\n          this.textInput.value = '';\n        }\n      }\n\n      this.setState({\n        isFocused: false\n      });\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      var _state = this.state,\n          query = _state.query,\n          selectedIndex = _state.selectedIndex,\n          suggestions = _state.suggestions,\n          selectionMode = _state.selectionMode; // hide suggestions menu on escape\n\n      if (e.keyCode === _constants.KEYS.ESCAPE) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n          selectedIndex: -1,\n          selectionMode: false,\n          suggestions: []\n        });\n      } // When one of the terminating keys is pressed, add current query to the tags.\n      // If no text is typed in so far, ignore the action - so we don't end up with a terminating\n      // character typed in.\n\n\n      if (this.props.delimiters.indexOf(e.keyCode) !== -1 && !e.shiftKey) {\n        if (e.keyCode !== _constants.KEYS.TAB || query !== '') {\n          e.preventDefault();\n        }\n\n        var selectedQuery = selectionMode && selectedIndex !== -1 ? suggestions[selectedIndex] : _defineProperty({\n          id: query\n        }, this.props.labelField, query);\n\n        if (selectedQuery !== '') {\n          this.addTag(selectedQuery);\n        }\n      } // when backspace key is pressed and query is blank, delete tag\n\n\n      if (e.keyCode === _constants.KEYS.BACKSPACE && query === '' && this.props.allowDeleteFromEmptyInput) {\n        this.handleDelete(this.props.tags.length - 1, e);\n      } // up arrow\n\n\n      if (e.keyCode === _constants.KEYS.UP_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: selectedIndex <= 0 ? suggestions.length - 1 : selectedIndex - 1,\n          selectionMode: true\n        });\n      } // down arrow\n\n\n      if (e.keyCode === _constants.KEYS.DOWN_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: suggestions.length === 0 ? -1 : (selectedIndex + 1) % suggestions.length,\n          selectionMode: true\n        });\n      }\n    }\n  }, {\n    key: 'handlePaste',\n    value: function handlePaste(e) {\n      var _this2 = this;\n\n      if (!this.props.allowAdditionFromPaste) {\n        return;\n      }\n\n      e.preventDefault();\n      var clipboardData = e.clipboardData || window.clipboardData;\n      var clipboardText = clipboardData.getData('text');\n      var _props$maxLength = this.props.maxLength,\n          maxLength = _props$maxLength === undefined ? clipboardText.length : _props$maxLength;\n      var maxTextLength = Math.min(maxLength, clipboardText.length);\n      var pastedText = clipboardData.getData('text').substr(0, maxTextLength); // Used to determine how the pasted content is split.\n\n      var delimiterRegExp = (0, _utils.buildRegExpFromDelimiters)(this.props.delimiters);\n      var tags = pastedText.split(delimiterRegExp); // Only add unique tags\n\n      (0, _uniq2.default)(tags).forEach(function (tag) {\n        return _this2.addTag(_defineProperty({\n          id: tag\n        }, _this2.props.labelField, tag));\n      });\n    }\n  }, {\n    key: 'handleSuggestionClick',\n    value: function handleSuggestionClick(i) {\n      this.addTag(this.state.suggestions[i]);\n    }\n  }, {\n    key: 'handleSuggestionHover',\n    value: function handleSuggestionHover(i) {\n      this.setState({\n        selectedIndex: i,\n        selectionMode: true\n      });\n    }\n  }, {\n    key: 'moveTag',\n    value: function moveTag(dragIndex, hoverIndex) {\n      var tags = this.props.tags; // locate tags\n\n      var dragTag = tags[dragIndex]; // call handler with the index of the dragged tag\n      // and the tag that is hovered\n\n      this.props.handleDrag(dragTag, dragIndex, hoverIndex);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var tagItems = this.getTagItems();\n\n      var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, this.props.classNames); // get the suggestions for the given query\n\n\n      var query = this.state.query.trim(),\n          selectedIndex = this.state.selectedIndex,\n          suggestions = this.state.suggestions;\n      var _props2 = this.props,\n          placeholder = _props2.placeholder,\n          inputName = _props2.name,\n          inputId = _props2.id,\n          maxLength = _props2.maxLength,\n          inline = _props2.inline,\n          inputFieldPosition = _props2.inputFieldPosition,\n          inputValue = _props2.inputValue,\n          inputProps = _props2.inputProps;\n      var position = !inline ? _constants.INPUT_FIELD_POSITIONS.BOTTOM : inputFieldPosition;\n      var tagInput = !this.props.readOnly ? _react2.default.createElement('div', {\n        className: classNames.tagInput\n      }, _react2.default.createElement('input', _extends({}, inputProps, {\n        ref: function ref(input) {\n          _this3.textInput = input;\n        },\n        className: classNames.tagInputField,\n        type: 'text',\n        placeholder: placeholder,\n        'aria-label': placeholder,\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur,\n        onChange: this.handleChange,\n        onKeyDown: this.handleKeyDown,\n        onPaste: this.handlePaste,\n        name: inputName,\n        id: inputId,\n        maxLength: maxLength,\n        value: inputValue,\n        'data-automation': 'input',\n        'data-testid': 'input'\n      })), _react2.default.createElement(_Suggestions2.default, {\n        query: query,\n        suggestions: suggestions,\n        labelField: this.props.labelField,\n        selectedIndex: selectedIndex,\n        handleClick: this.handleSuggestionClick,\n        handleHover: this.handleSuggestionHover,\n        minQueryLength: this.props.minQueryLength,\n        shouldRenderSuggestions: this.props.shouldRenderSuggestions,\n        isFocused: this.state.isFocused,\n        classNames: classNames,\n        renderSuggestion: this.props.renderSuggestion\n      })) : null;\n      return _react2.default.createElement('div', {\n        className: (0, _classnames2.default)(classNames.tags, 'react-tags-wrapper'),\n        ref: this.reactTagsRef\n      }, _react2.default.createElement('p', {\n        role: 'alert',\n        className: 'sr-only',\n        style: {\n          position: 'absolute',\n          overflow: 'hidden',\n          clip: 'rect(0 0 0 0)',\n          margin: '-1px',\n          padding: 0,\n          width: '1px',\n          height: '1px',\n          border: 0\n        }\n      }, this.state.ariaLiveStatus), position === _constants.INPUT_FIELD_POSITIONS.TOP && tagInput, _react2.default.createElement('div', {\n        className: classNames.selected\n      }, tagItems, position === _constants.INPUT_FIELD_POSITIONS.INLINE && tagInput), position === _constants.INPUT_FIELD_POSITIONS.BOTTOM && tagInput);\n    }\n  }]);\n\n  return ReactTags;\n}(_react.Component);\n\nReactTags.propTypes = {\n  placeholder: _propTypes2.default.string,\n  labelField: _propTypes2.default.string,\n  suggestions: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired\n  })),\n  delimiters: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  autofocus: _propTypes2.default.bool,\n  inline: _propTypes2.default.bool,\n  // TODO: Remove in v7.x.x\n  inputFieldPosition: _propTypes2.default.oneOf([_constants.INPUT_FIELD_POSITIONS.INLINE, _constants.INPUT_FIELD_POSITIONS.TOP, _constants.INPUT_FIELD_POSITIONS.BOTTOM]),\n  handleDelete: _propTypes2.default.func,\n  handleAddition: _propTypes2.default.func,\n  handleDrag: _propTypes2.default.func,\n  handleFilterSuggestions: _propTypes2.default.func,\n  handleTagClick: _propTypes2.default.func,\n  allowDeleteFromEmptyInput: _propTypes2.default.bool,\n  allowAdditionFromPaste: _propTypes2.default.bool,\n  allowDragDrop: _propTypes2.default.bool,\n  handleInputChange: _propTypes2.default.func,\n  handleInputFocus: _propTypes2.default.func,\n  handleInputBlur: _propTypes2.default.func,\n  minQueryLength: _propTypes2.default.number,\n  shouldRenderSuggestions: _propTypes2.default.func,\n  removeComponent: _propTypes2.default.func,\n  autocomplete: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number]),\n  readOnly: _propTypes2.default.bool,\n  classNames: _propTypes2.default.object,\n  name: _propTypes2.default.string,\n  id: _propTypes2.default.string,\n  maxLength: _propTypes2.default.number,\n  inputValue: _propTypes2.default.string,\n  tags: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired,\n    className: _propTypes2.default.string\n  })),\n  allowUnique: _propTypes2.default.bool,\n  renderSuggestion: _propTypes2.default.func,\n  inputProps: _propTypes2.default.object\n};\nReactTags.defaultProps = {\n  placeholder: _constants.DEFAULT_PLACEHOLDER,\n  labelField: _constants.DEFAULT_LABEL_FIELD,\n  suggestions: [],\n  delimiters: [].concat(_toConsumableArray(_constants.KEYS.ENTER), [_constants.KEYS.TAB]),\n  autofocus: true,\n  inline: true,\n  // TODO: Remove in v7.x.x\n  inputFieldPosition: _constants.INPUT_FIELD_POSITIONS.INLINE,\n  handleDelete: _noop2.default,\n  handleAddition: _noop2.default,\n  allowDeleteFromEmptyInput: true,\n  allowAdditionFromPaste: true,\n  autocomplete: false,\n  readOnly: false,\n  allowUnique: true,\n  allowDragDrop: true,\n  tags: [],\n  inputProps: {}\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this.filteredSuggestions = function (query) {\n    var suggestions = _this4.props.suggestions;\n\n    if (_this4.props.allowUnique) {\n      var existingTags = _this4.props.tags.map(function (tag) {\n        return tag.id.toLowerCase();\n      });\n\n      suggestions = suggestions.filter(function (suggestion) {\n        return !existingTags.includes(suggestion.id.toLowerCase());\n      });\n    }\n\n    if (_this4.props.handleFilterSuggestions) {\n      return _this4.props.handleFilterSuggestions(query, suggestions);\n    }\n\n    var exactSuggestions = suggestions.filter(function (item) {\n      return _this4.getQueryIndex(query, item) === 0;\n    });\n    var partialSuggestions = suggestions.filter(function (item) {\n      return _this4.getQueryIndex(query, item) > 0;\n    });\n    return exactSuggestions.concat(partialSuggestions);\n  };\n\n  this.getQueryIndex = function (query, item) {\n    return item[_this4.props.labelField].toLowerCase().indexOf(query.toLowerCase());\n  };\n\n  this.resetAndFocusInput = function () {\n    _this4.setState({\n      query: ''\n    });\n\n    if (_this4.textInput) {\n      _this4.textInput.value = '';\n\n      _this4.textInput.focus();\n    }\n  };\n\n  this.updateSuggestions = function () {\n    var _state2 = _this4.state,\n        query = _state2.query,\n        selectedIndex = _state2.selectedIndex;\n\n    var suggestions = _this4.filteredSuggestions(query);\n\n    _this4.setState({\n      suggestions: suggestions,\n      selectedIndex: selectedIndex >= suggestions.length ? suggestions.length - 1 : selectedIndex\n    });\n  };\n\n  this.addTag = function (tag) {\n    var _props3 = _this4.props,\n        tags = _props3.tags,\n        labelField = _props3.labelField,\n        allowUnique = _props3.allowUnique;\n\n    if (!tag.id || !tag[labelField]) {\n      return;\n    }\n\n    var existingKeys = tags.map(function (tag) {\n      return tag.id.toLowerCase();\n    }); // Return if tag has been already added\n\n    if (allowUnique && existingKeys.indexOf(tag.id.toLowerCase()) >= 0) {\n      return;\n    }\n\n    if (_this4.props.autocomplete) {\n      var possibleMatches = _this4.filteredSuggestions(tag[labelField]);\n\n      if (_this4.props.autocomplete === 1 && possibleMatches.length === 1 || _this4.props.autocomplete === true && possibleMatches.length) {\n        tag = possibleMatches[0];\n      }\n    } // call method to add\n\n\n    _this4.props.handleAddition(tag); // reset the state\n\n\n    _this4.setState({\n      query: '',\n      selectionMode: false,\n      selectedIndex: -1\n    });\n\n    _this4.resetAndFocusInput();\n  };\n\n  this.getTagItems = function () {\n    var _props4 = _this4.props,\n        classNames = _props4.classNames,\n        tags = _props4.tags,\n        labelField = _props4.labelField,\n        removeComponent = _props4.removeComponent,\n        readOnly = _props4.readOnly,\n        allowDragDrop = _props4.allowDragDrop;\n    var moveTag = allowDragDrop ? _this4.moveTag : null;\n    return tags.map(function (tag, index) {\n      return _react2.default.createElement(_Tag2.default, {\n        key: index,\n        index: index,\n        tag: tag,\n        labelField: labelField,\n        onDelete: _this4.handleDelete.bind(_this4, index),\n        moveTag: moveTag,\n        removeComponent: removeComponent,\n        onTagClicked: _this4.handleTagClick.bind(_this4, index),\n        readOnly: readOnly,\n        classNames: _extends({}, _constants.DEFAULT_CLASSNAMES, classNames),\n        allowDragDrop: allowDragDrop\n      });\n    });\n  };\n};\n\nmodule.exports = {\n  WithContext: function WithContext(_ref2) {\n    var props = _objectWithoutProperties(_ref2, []);\n\n    return _react2.default.createElement(_reactDnd.DndProvider, {\n      backend: _reactDndHtml5Backend.HTML5Backend\n    }, _react2.default.createElement(ReactTags, props));\n  },\n  WithOutContext: ReactTags,\n  KEYS: _constants.KEYS\n};","map":{"version":3,"sources":["/home/twilightmoon/Documents/Projects/ecommerce-project/node_modules/react-tag-input/dist-modules/components/ReactTags.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_reactDnd","_reactDndHtml5Backend","_isEqual","_isEqual2","_noop","_noop2","_uniq","_uniq2","_Suggestions","_Suggestions2","_propTypes","_propTypes2","_classnames","_classnames2","_Tag","_Tag2","_utils","_constants","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","arr2","from","_objectWithoutProperties","keys","indexOf","_defineProperty","value","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","ReactTags","_Component","_this","getPrototypeOf","_initialiseProps","inline","console","warn","suggestions","state","query","isFocused","selectedIndex","selectionMode","ariaLiveStatus","reactTagsRef","createRef","handleFocus","bind","handleBlur","handleKeyDown","handleChange","moveTag","handlePaste","handleSuggestionHover","handleSuggestionClick","componentDidMount","_props","autofocus","readOnly","resetAndFocusInput","componentDidUpdate","prevProps","updateSuggestions","handleDelete","index","event","preventDefault","stopPropagation","currentTags","tags","slice","id","allTags","current","querySelectorAll","nextElementToFocus","nextIndex","nextTag","textInput","focus","setState","handleTagClick","e","handleInputChange","trim","handleInputFocus","handleInputBlur","_state","keyCode","KEYS","ESCAPE","delimiters","shiftKey","TAB","selectedQuery","labelField","addTag","BACKSPACE","allowDeleteFromEmptyInput","UP_ARROW","DOWN_ARROW","_this2","allowAdditionFromPaste","clipboardData","window","clipboardText","getData","_props$maxLength","maxLength","undefined","maxTextLength","Math","min","pastedText","substr","delimiterRegExp","buildRegExpFromDelimiters","split","forEach","tag","dragIndex","hoverIndex","dragTag","handleDrag","render","_this3","tagItems","getTagItems","classNames","DEFAULT_CLASSNAMES","_props2","placeholder","inputName","name","inputId","inputFieldPosition","inputValue","inputProps","position","INPUT_FIELD_POSITIONS","BOTTOM","tagInput","createElement","className","ref","input","tagInputField","type","onFocus","onBlur","onChange","onKeyDown","onPaste","handleClick","handleHover","minQueryLength","shouldRenderSuggestions","renderSuggestion","role","style","overflow","clip","margin","padding","width","height","border","TOP","selected","INLINE","Component","propTypes","string","arrayOf","shape","isRequired","number","bool","oneOf","func","handleAddition","handleFilterSuggestions","allowDragDrop","removeComponent","autocomplete","oneOfType","object","allowUnique","defaultProps","DEFAULT_PLACEHOLDER","DEFAULT_LABEL_FIELD","concat","ENTER","_this4","filteredSuggestions","existingTags","map","toLowerCase","filter","suggestion","includes","exactSuggestions","item","getQueryIndex","partialSuggestions","_state2","_props3","existingKeys","possibleMatches","_props4","onDelete","onTagClicked","module","exports","WithContext","_ref2","DndProvider","backend","HTML5Backend","WithOutContext"],"mappings":"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","sourcesContent":["'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDnd = require('react-dnd');\n\nvar _reactDndHtml5Backend = require('react-dnd-html5-backend');\n\nvar _isEqual = require('lodash/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _uniq = require('lodash/uniq');\n\nvar _uniq2 = _interopRequireDefault(_uniq);\n\nvar _Suggestions = require('./Suggestions');\n\nvar _Suggestions2 = _interopRequireDefault(_Suggestions);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Tag = require('./Tag');\n\nvar _Tag2 = _interopRequireDefault(_Tag);\n\nvar _utils = require('./utils');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n//Constants\n\n\nvar ReactTags = function (_Component) {\n  _inherits(ReactTags, _Component);\n\n  function ReactTags(props) {\n    _classCallCheck(this, ReactTags);\n\n    var _this = _possibleConstructorReturn(this, (ReactTags.__proto__ || Object.getPrototypeOf(ReactTags)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    if (!props.inline) {\n      /* eslint-disable no-console */\n      console.warn('[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.');\n      /* eslint-enable no-console */\n    }\n\n    var suggestions = props.suggestions;\n\n    _this.state = {\n      suggestions: suggestions,\n      query: '',\n      isFocused: false,\n      selectedIndex: -1,\n      selectionMode: false,\n      ariaLiveStatus: ''\n    };\n    _this.reactTagsRef = (0, _react.createRef)();\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    _this.handleBlur = _this.handleBlur.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.moveTag = _this.moveTag.bind(_this);\n    _this.handlePaste = _this.handlePaste.bind(_this);\n    _this.handleSuggestionHover = _this.handleSuggestionHover.bind(_this);\n    _this.handleSuggestionClick = _this.handleSuggestionClick.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactTags, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          autofocus = _props.autofocus,\n          readOnly = _props.readOnly;\n\n\n      if (autofocus && !readOnly) {\n        this.resetAndFocusInput();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (!(0, _isEqual2.default)(prevProps.suggestions, this.props.suggestions)) {\n        this.updateSuggestions();\n      }\n    }\n  }, {\n    key: 'handleDelete',\n    value: function handleDelete(index, event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var currentTags = this.props.tags.slice();\n      // Early exit from the function if the array\n      // is already empty\n      if (currentTags.length === 0) {\n        return;\n      }\n      var ariaLiveStatus = 'Tag at index ' + index + ' with value ' + currentTags[index].id + ' deleted.';\n      this.props.handleDelete(index, event);\n      var allTags = this.reactTagsRef.current.querySelectorAll('.ReactTags__remove');\n      var nextElementToFocus = void 0,\n          nextIndex = void 0,\n          nextTag = void 0;\n      if (index === 0 && currentTags.length > 1) {\n        nextElementToFocus = allTags[0];\n        nextIndex = 0;\n        nextTag = currentTags[1];\n      } else {\n        nextElementToFocus = allTags[index - 1];\n        nextIndex = index - 1;\n        nextTag = currentTags[nextIndex];\n      }\n      if (!nextElementToFocus) {\n        nextIndex = -1;\n        nextElementToFocus = this.textInput;\n      }\n      if (nextIndex >= 0) {\n        ariaLiveStatus += ' Tag at index ' + nextIndex + ' with value ' + nextTag.id + ' focussed. Press backspace to remove';\n      } else {\n        ariaLiveStatus += 'Input focussed. Press enter to add a new tag';\n      }\n      nextElementToFocus.focus();\n      this.setState({\n        ariaLiveStatus: ariaLiveStatus\n      });\n    }\n  }, {\n    key: 'handleTagClick',\n    value: function handleTagClick(i, e) {\n      if (this.props.handleTagClick) {\n        this.props.handleTagClick(i, e);\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(e) {\n      if (this.props.handleInputChange) {\n        this.props.handleInputChange(e.target.value);\n      }\n\n      var query = e.target.value.trim();\n\n      this.setState({ query: query }, this.updateSuggestions);\n    }\n  }, {\n    key: 'handleFocus',\n    value: function handleFocus(event) {\n      var value = event.target.value;\n      if (this.props.handleInputFocus) {\n        this.props.handleInputFocus(value);\n      }\n      this.setState({ isFocused: true });\n    }\n  }, {\n    key: 'handleBlur',\n    value: function handleBlur(event) {\n      var value = event.target.value;\n      if (this.props.handleInputBlur) {\n        this.props.handleInputBlur(value);\n        if (this.textInput) {\n          this.textInput.value = '';\n        }\n      }\n      this.setState({ isFocused: false });\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      var _state = this.state,\n          query = _state.query,\n          selectedIndex = _state.selectedIndex,\n          suggestions = _state.suggestions,\n          selectionMode = _state.selectionMode;\n\n      // hide suggestions menu on escape\n\n      if (e.keyCode === _constants.KEYS.ESCAPE) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n          selectedIndex: -1,\n          selectionMode: false,\n          suggestions: []\n        });\n      }\n\n      // When one of the terminating keys is pressed, add current query to the tags.\n      // If no text is typed in so far, ignore the action - so we don't end up with a terminating\n      // character typed in.\n      if (this.props.delimiters.indexOf(e.keyCode) !== -1 && !e.shiftKey) {\n        if (e.keyCode !== _constants.KEYS.TAB || query !== '') {\n          e.preventDefault();\n        }\n\n        var selectedQuery = selectionMode && selectedIndex !== -1 ? suggestions[selectedIndex] : _defineProperty({ id: query }, this.props.labelField, query);\n\n        if (selectedQuery !== '') {\n          this.addTag(selectedQuery);\n        }\n      }\n\n      // when backspace key is pressed and query is blank, delete tag\n      if (e.keyCode === _constants.KEYS.BACKSPACE && query === '' && this.props.allowDeleteFromEmptyInput) {\n        this.handleDelete(this.props.tags.length - 1, e);\n      }\n\n      // up arrow\n      if (e.keyCode === _constants.KEYS.UP_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: selectedIndex <= 0 ? suggestions.length - 1 : selectedIndex - 1,\n          selectionMode: true\n        });\n      }\n\n      // down arrow\n      if (e.keyCode === _constants.KEYS.DOWN_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: suggestions.length === 0 ? -1 : (selectedIndex + 1) % suggestions.length,\n          selectionMode: true\n        });\n      }\n    }\n  }, {\n    key: 'handlePaste',\n    value: function handlePaste(e) {\n      var _this2 = this;\n\n      if (!this.props.allowAdditionFromPaste) {\n        return;\n      }\n\n      e.preventDefault();\n\n      var clipboardData = e.clipboardData || window.clipboardData;\n      var clipboardText = clipboardData.getData('text');\n\n      var _props$maxLength = this.props.maxLength,\n          maxLength = _props$maxLength === undefined ? clipboardText.length : _props$maxLength;\n\n\n      var maxTextLength = Math.min(maxLength, clipboardText.length);\n      var pastedText = clipboardData.getData('text').substr(0, maxTextLength);\n\n      // Used to determine how the pasted content is split.\n      var delimiterRegExp = (0, _utils.buildRegExpFromDelimiters)(this.props.delimiters);\n      var tags = pastedText.split(delimiterRegExp);\n\n      // Only add unique tags\n      (0, _uniq2.default)(tags).forEach(function (tag) {\n        return _this2.addTag(_defineProperty({ id: tag }, _this2.props.labelField, tag));\n      });\n    }\n  }, {\n    key: 'handleSuggestionClick',\n    value: function handleSuggestionClick(i) {\n      this.addTag(this.state.suggestions[i]);\n    }\n  }, {\n    key: 'handleSuggestionHover',\n    value: function handleSuggestionHover(i) {\n      this.setState({\n        selectedIndex: i,\n        selectionMode: true\n      });\n    }\n  }, {\n    key: 'moveTag',\n    value: function moveTag(dragIndex, hoverIndex) {\n      var tags = this.props.tags;\n\n      // locate tags\n      var dragTag = tags[dragIndex];\n\n      // call handler with the index of the dragged tag\n      // and the tag that is hovered\n      this.props.handleDrag(dragTag, dragIndex, hoverIndex);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var tagItems = this.getTagItems();\n      var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, this.props.classNames);\n\n      // get the suggestions for the given query\n      var query = this.state.query.trim(),\n          selectedIndex = this.state.selectedIndex,\n          suggestions = this.state.suggestions;\n\n      var _props2 = this.props,\n          placeholder = _props2.placeholder,\n          inputName = _props2.name,\n          inputId = _props2.id,\n          maxLength = _props2.maxLength,\n          inline = _props2.inline,\n          inputFieldPosition = _props2.inputFieldPosition,\n          inputValue = _props2.inputValue,\n          inputProps = _props2.inputProps;\n\n\n      var position = !inline ? _constants.INPUT_FIELD_POSITIONS.BOTTOM : inputFieldPosition;\n\n      var tagInput = !this.props.readOnly ? _react2.default.createElement(\n        'div',\n        { className: classNames.tagInput },\n        _react2.default.createElement('input', _extends({}, inputProps, {\n          ref: function ref(input) {\n            _this3.textInput = input;\n          },\n          className: classNames.tagInputField,\n          type: 'text',\n          placeholder: placeholder,\n          'aria-label': placeholder,\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur,\n          onChange: this.handleChange,\n          onKeyDown: this.handleKeyDown,\n          onPaste: this.handlePaste,\n          name: inputName,\n          id: inputId,\n          maxLength: maxLength,\n          value: inputValue,\n          'data-automation': 'input',\n          'data-testid': 'input'\n        })),\n        _react2.default.createElement(_Suggestions2.default, {\n          query: query,\n          suggestions: suggestions,\n          labelField: this.props.labelField,\n          selectedIndex: selectedIndex,\n          handleClick: this.handleSuggestionClick,\n          handleHover: this.handleSuggestionHover,\n          minQueryLength: this.props.minQueryLength,\n          shouldRenderSuggestions: this.props.shouldRenderSuggestions,\n          isFocused: this.state.isFocused,\n          classNames: classNames,\n          renderSuggestion: this.props.renderSuggestion\n        })\n      ) : null;\n\n      return _react2.default.createElement(\n        'div',\n        {\n          className: (0, _classnames2.default)(classNames.tags, 'react-tags-wrapper'),\n          ref: this.reactTagsRef },\n        _react2.default.createElement(\n          'p',\n          {\n            role: 'alert',\n            className: 'sr-only',\n            style: {\n              position: 'absolute',\n              overflow: 'hidden',\n              clip: 'rect(0 0 0 0)',\n              margin: '-1px',\n              padding: 0,\n              width: '1px',\n              height: '1px',\n              border: 0\n            } },\n          this.state.ariaLiveStatus\n        ),\n        position === _constants.INPUT_FIELD_POSITIONS.TOP && tagInput,\n        _react2.default.createElement(\n          'div',\n          { className: classNames.selected },\n          tagItems,\n          position === _constants.INPUT_FIELD_POSITIONS.INLINE && tagInput\n        ),\n        position === _constants.INPUT_FIELD_POSITIONS.BOTTOM && tagInput\n      );\n    }\n  }]);\n\n  return ReactTags;\n}(_react.Component);\n\nReactTags.propTypes = {\n  placeholder: _propTypes2.default.string,\n  labelField: _propTypes2.default.string,\n  suggestions: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired\n  })),\n  delimiters: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  autofocus: _propTypes2.default.bool,\n  inline: _propTypes2.default.bool, // TODO: Remove in v7.x.x\n  inputFieldPosition: _propTypes2.default.oneOf([_constants.INPUT_FIELD_POSITIONS.INLINE, _constants.INPUT_FIELD_POSITIONS.TOP, _constants.INPUT_FIELD_POSITIONS.BOTTOM]),\n  handleDelete: _propTypes2.default.func,\n  handleAddition: _propTypes2.default.func,\n  handleDrag: _propTypes2.default.func,\n  handleFilterSuggestions: _propTypes2.default.func,\n  handleTagClick: _propTypes2.default.func,\n  allowDeleteFromEmptyInput: _propTypes2.default.bool,\n  allowAdditionFromPaste: _propTypes2.default.bool,\n  allowDragDrop: _propTypes2.default.bool,\n  handleInputChange: _propTypes2.default.func,\n  handleInputFocus: _propTypes2.default.func,\n  handleInputBlur: _propTypes2.default.func,\n  minQueryLength: _propTypes2.default.number,\n  shouldRenderSuggestions: _propTypes2.default.func,\n  removeComponent: _propTypes2.default.func,\n  autocomplete: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number]),\n  readOnly: _propTypes2.default.bool,\n  classNames: _propTypes2.default.object,\n  name: _propTypes2.default.string,\n  id: _propTypes2.default.string,\n  maxLength: _propTypes2.default.number,\n  inputValue: _propTypes2.default.string,\n  tags: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired,\n    className: _propTypes2.default.string\n  })),\n  allowUnique: _propTypes2.default.bool,\n  renderSuggestion: _propTypes2.default.func,\n  inputProps: _propTypes2.default.object\n};\nReactTags.defaultProps = {\n  placeholder: _constants.DEFAULT_PLACEHOLDER,\n  labelField: _constants.DEFAULT_LABEL_FIELD,\n  suggestions: [],\n  delimiters: [].concat(_toConsumableArray(_constants.KEYS.ENTER), [_constants.KEYS.TAB]),\n  autofocus: true,\n  inline: true, // TODO: Remove in v7.x.x\n  inputFieldPosition: _constants.INPUT_FIELD_POSITIONS.INLINE,\n  handleDelete: _noop2.default,\n  handleAddition: _noop2.default,\n  allowDeleteFromEmptyInput: true,\n  allowAdditionFromPaste: true,\n  autocomplete: false,\n  readOnly: false,\n  allowUnique: true,\n  allowDragDrop: true,\n  tags: [],\n  inputProps: {}\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this.filteredSuggestions = function (query) {\n    var suggestions = _this4.props.suggestions;\n\n    if (_this4.props.allowUnique) {\n      var existingTags = _this4.props.tags.map(function (tag) {\n        return tag.id.toLowerCase();\n      });\n      suggestions = suggestions.filter(function (suggestion) {\n        return !existingTags.includes(suggestion.id.toLowerCase());\n      });\n    }\n    if (_this4.props.handleFilterSuggestions) {\n      return _this4.props.handleFilterSuggestions(query, suggestions);\n    }\n\n    var exactSuggestions = suggestions.filter(function (item) {\n      return _this4.getQueryIndex(query, item) === 0;\n    });\n    var partialSuggestions = suggestions.filter(function (item) {\n      return _this4.getQueryIndex(query, item) > 0;\n    });\n    return exactSuggestions.concat(partialSuggestions);\n  };\n\n  this.getQueryIndex = function (query, item) {\n    return item[_this4.props.labelField].toLowerCase().indexOf(query.toLowerCase());\n  };\n\n  this.resetAndFocusInput = function () {\n    _this4.setState({ query: '' });\n    if (_this4.textInput) {\n      _this4.textInput.value = '';\n      _this4.textInput.focus();\n    }\n  };\n\n  this.updateSuggestions = function () {\n    var _state2 = _this4.state,\n        query = _state2.query,\n        selectedIndex = _state2.selectedIndex;\n\n    var suggestions = _this4.filteredSuggestions(query);\n\n    _this4.setState({\n      suggestions: suggestions,\n      selectedIndex: selectedIndex >= suggestions.length ? suggestions.length - 1 : selectedIndex\n    });\n  };\n\n  this.addTag = function (tag) {\n    var _props3 = _this4.props,\n        tags = _props3.tags,\n        labelField = _props3.labelField,\n        allowUnique = _props3.allowUnique;\n\n    if (!tag.id || !tag[labelField]) {\n      return;\n    }\n    var existingKeys = tags.map(function (tag) {\n      return tag.id.toLowerCase();\n    });\n\n    // Return if tag has been already added\n    if (allowUnique && existingKeys.indexOf(tag.id.toLowerCase()) >= 0) {\n      return;\n    }\n    if (_this4.props.autocomplete) {\n      var possibleMatches = _this4.filteredSuggestions(tag[labelField]);\n\n      if (_this4.props.autocomplete === 1 && possibleMatches.length === 1 || _this4.props.autocomplete === true && possibleMatches.length) {\n        tag = possibleMatches[0];\n      }\n    }\n\n    // call method to add\n    _this4.props.handleAddition(tag);\n\n    // reset the state\n    _this4.setState({\n      query: '',\n      selectionMode: false,\n      selectedIndex: -1\n    });\n\n    _this4.resetAndFocusInput();\n  };\n\n  this.getTagItems = function () {\n    var _props4 = _this4.props,\n        classNames = _props4.classNames,\n        tags = _props4.tags,\n        labelField = _props4.labelField,\n        removeComponent = _props4.removeComponent,\n        readOnly = _props4.readOnly,\n        allowDragDrop = _props4.allowDragDrop;\n\n\n    var moveTag = allowDragDrop ? _this4.moveTag : null;\n    return tags.map(function (tag, index) {\n      return _react2.default.createElement(_Tag2.default, {\n        key: index,\n        index: index,\n        tag: tag,\n        labelField: labelField,\n        onDelete: _this4.handleDelete.bind(_this4, index),\n        moveTag: moveTag,\n        removeComponent: removeComponent,\n        onTagClicked: _this4.handleTagClick.bind(_this4, index),\n        readOnly: readOnly,\n        classNames: _extends({}, _constants.DEFAULT_CLASSNAMES, classNames),\n        allowDragDrop: allowDragDrop\n      });\n    });\n  };\n};\n\nmodule.exports = {\n  WithContext: function WithContext(_ref2) {\n    var props = _objectWithoutProperties(_ref2, []);\n\n    return _react2.default.createElement(\n      _reactDnd.DndProvider,\n      { backend: _reactDndHtml5Backend.HTML5Backend },\n      _react2.default.createElement(ReactTags, props)\n    );\n  },\n  WithOutContext: ReactTags,\n  KEYS: _constants.KEYS\n};"]},"metadata":{},"sourceType":"script"}